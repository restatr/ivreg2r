% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/diagnostics-id.R
\name{.partial_fwl}
\alias{.partial_fwl}
\title{FWL: partial out exogenous regressors from endogenous and excluded IVs}
\usage{
.partial_fwl(X1, Z1, X2, weights)
}
\arguments{
\item{X1}{N x K1 endogenous regressor matrix.}

\item{Z1}{N x L1 excluded instrument matrix.}

\item{X2}{N x K2 exogenous regressor matrix (including intercept).}

\item{weights}{Normalized weights (sum to N), or NULL.}
}
\value{
List with \code{X1_perp} and \code{Z1_perp}.
}
\description{
Returns the residuals from projecting X1 and Z1 onto X2, where X2 is the exogenous regressor
matrix (including intercept if present).
}
\keyword{internal}
