% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/diagnostics-overid.R
\name{.compute_j_with_omega}
\alias{.compute_j_with_omega}
\title{Compute J statistic given a pre-computed Omega matrix}
\usage{
.compute_j_with_omega(Z, X, y, Omega, weights, N)
}
\arguments{
\item{Z}{N x L instrument matrix.}

\item{X}{N x K regressor matrix.}

\item{y}{N x 1 response vector.}

\item{Omega}{L x L symmetric score covariance matrix.}

\item{weights}{Normalized weights (sum to N), or NULL.}

\item{N}{Number of observations.}
}
\value{
Scalar J statistic, or \code{NA_real_} if Omega is rank-deficient
or the GMM Hessian is singular.
}
\description{
Performs closed-form 2-step efficient GMM re-estimation using a provided
Omega (instrument-space score covariance) and returns the J statistic.
This is the inner loop shared by \code{.hansen_j_test()} and
\code{.compute_endogeneity_test()}.
}
\keyword{internal}
