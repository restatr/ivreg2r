% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/reduced-form.R
\name{.compute_reduced_form}
\alias{.compute_reduced_form}
\title{Compute reduced-form regression(s) for IV models}
\usage{
.compute_reduced_form(
  mode,
  Z,
  X,
  y,
  weights,
  cluster_vec,
  vcov_type,
  N,
  K,
  L,
  K1,
  L1,
  M,
  endo_names,
  excluded_names,
  depvar_name,
  dofminus = 0L,
  sdofminus = 0L,
  weight_type = "aweight",
  kernel = NULL,
  bw = NULL,
  time_index = NULL
)
}
\arguments{
\item{mode}{Character: \code{"rf"} or \code{"system"}.}

\item{Z}{N x L instrument matrix.}

\item{X}{N x K regressor matrix.}

\item{y}{N-vector of responses.}

\item{weights}{Normalized weights (sum to N), or NULL.}

\item{cluster_vec}{Cluster membership vector, or NULL.}

\item{vcov_type}{Character: \code{"iid"}, \code{"HC0"}, \code{"HC1"}, or \code{"CL"}.}

\item{N, K, L, K1, L1}{Integer dimensions.}

\item{M}{Number of clusters (or NULL).}

\item{endo_names}{Character vector of endogenous variable names.}

\item{excluded_names}{Character vector of excluded instrument names.}

\item{depvar_name}{Character: name of the dependent variable.}

\item{dofminus}{Integer: large-sample DoF adjustment (default 0).}

\item{sdofminus}{Integer: small-sample DoF adjustment (default 0).}
}
\value{
A list with \code{mode} and per-equation (rf) or multi-equation (system)
regression results.
}
\description{
In \code{"rf"} mode, fits y ~ Z and returns coefficients, VCV, residuals,
fitted values, F-test of excluded instruments, and RMSE.
In \code{"system"} mode, additionally fits each endogenous X_j ~ Z and
constructs the cross-equation VCV.
}
\keyword{internal}
