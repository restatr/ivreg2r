% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/diagnostics-orthogonality.R
\name{.compute_orthog_test}
\alias{.compute_orthog_test}
\title{Instrument orthogonality test (C-statistic / difference-in-J)}
\usage{
.compute_orthog_test(
  Z,
  X,
  y,
  residuals,
  rss,
  weights,
  cluster_vec,
  vcov_type,
  N,
  K,
  L,
  orthog_vars,
  dofminus = 0L
)
}
\arguments{
\item{Z}{N x L instrument matrix (full model).}

\item{X}{N x K regressor matrix.}

\item{y}{N x 1 response vector.}

\item{residuals}{N x 1 residual vector from the full model.}

\item{rss}{Residual sum of squares from the full model.}

\item{weights}{Normalized weights (sum to N), or NULL.}

\item{cluster_vec}{Cluster membership vector, or NULL.}

\item{vcov_type}{Character: "iid", "HC0", "HC1", or "CL".}

\item{N}{Number of observations.}

\item{K}{Number of regressors.}

\item{L}{Number of instruments.}

\item{orthog_vars}{Character vector of instrument names to test.}

\item{dofminus}{Integer: large-sample DoF adjustment (default 0).}
}
\value{
Named list with \code{stat}, \code{p}, \code{df}, \code{test_name}, \code{tested_vars},
or NULL if this is not an IV model or orthog_vars is NULL.
}
\description{
Tests H0: specified instruments satisfy orthogonality conditions.
Computes a difference-of-J (robust/cluster) or difference-of-Sargan (IID)
statistic by comparing the full model to a restricted model where the
tested instruments are removed.
}
\details{
This is the mirror image of the endogeneity test: the \strong{full} model
(more instruments) provides the S (Omega) matrix, and the restricted
model (fewer instruments) is the constrained model. The same-S-matrix
constraint guarantees C >= 0 (Hayashi 2000, p. 220).
}
\keyword{internal}
