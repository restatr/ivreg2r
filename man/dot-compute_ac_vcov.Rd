% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/vcov-hac.R
\name{.compute_ac_vcov}
\alias{.compute_ac_vcov}
\title{Compute AC variance-covariance matrix}
\usage{
.compute_ac_vcov(
  bread,
  X_hat,
  resid,
  time_index,
  kernel,
  bw,
  N,
  K,
  dofminus = 0L,
  sdofminus = 0L,
  weights = NULL,
  weight_type = "aweight"
)
}
\arguments{
\item{bread}{K x K bread matrix.}

\item{X_hat}{N x K projected regressor matrix (sorted by time).}

\item{resid}{N-vector of residuals (sorted by time).}

\item{time_index}{List from \code{.build_time_index()}.}

\item{kernel}{Canonical kernel name.}

\item{bw}{Numeric bandwidth.}

\item{N}{Integer: number of observations.}

\item{K}{Integer: number of regressors.}

\item{dofminus}{Integer: large-sample DoF adjustment.}

\item{sdofminus}{Integer: small-sample DoF adjustment.}

\item{weights}{Normalized weights (sorted) or NULL.}

\item{weight_type}{Character: weight type.}
}
\value{
K x K variance-covariance matrix.
}
\description{
Sandwich estimator: \code{V = N * bread * (shat/N) * bread} using the AC
(autocorrelation consistent) meat. The \code{.ac_meat()} returns
\code{shat/N} (per-observation omega), so we multiply by N to get the
full VCV. This is analogous to the HAC/HC pattern where
\code{V = bread * meat * bread * N/(N-dofminus)}.
}
\keyword{internal}
